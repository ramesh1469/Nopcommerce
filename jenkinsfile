pipeline{
    agent { label "Docker"}
    stages{
        stage ("git clone"){
            steps{
                git url: "https://github.com/ramesh1469/Nopcommerce.git",
                branch: "main"

            }
        }
        stage ("build & SonarQube analysis"){
            agent { label "Docker"}
            steps{
                withSonarQubeEnv('sonar') {
                sh 'cd src/Presentation/Nop.Web/Areas/Admin/Views/Report/ ',
                sh 'dotnet build. sonar:sonar' 
            }
          }
        }
        stage ("docker image"){
            steps{
                sh "docker image build -t ram:1.0 ."
            }
        }
    }
}
